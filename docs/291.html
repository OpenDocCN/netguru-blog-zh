<html>
<head>
<title>E2E Testing vs. Integration Testing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>E2E测试与集成测试</h1>
<blockquote>原文：<a href="http://web.archive.org/web/20230307163032/https://www.netguru.com/blog/e2e-testing-vs-integration-testing#0001-01-01">http://web.archive.org/web/20230307163032/https://www.netguru.com/blog/e2e-testing-vs-integration-testing#0001-01-01</a></blockquote><div><span><p class="blog-post__lead h2"/><p>确保数字产品的质量对于最终用户的满意度至关重要。虽然开发软件很有挑战性，但是在这样一个要求苛刻的环境中，有一些关键的解决方案可以帮助你。</p>
<p>其中之一是知道测试什么以及何时测试。所以今天，我想告诉你E2E和集成测试在开发周期中的角色，它们的区别，以及你如何使用它们来提升质量。</p>
<h2>什么是集成测试，为什么要关注它？</h2>
<p>你可以考虑制造一辆新车作为<a href="/web/20221006011816/https://www.netguru.com/services/software-development" rel="noopener">软件开发的类比。</a>汽车的引擎由许多更小的部件组成，这些部件由它们自己的制造商检查以确保它们没有故障，我们的应用程序的组件在开发人员编写后也是如此。</p>
<p>零件组装好之后，你就有了一台发动机，下一步就是在我们把它装上车之前，检查它是否组装正确，是否能正常工作。这是集成测试发挥首要作用的时候。</p>
<p>简而言之，集成测试是一个确保应用程序的各个部分在组合在一起后能够正常工作的过程。这是非常重要的一步，因为数据传输发生的地方通常也是错误发生的地方。</p>
<p>其中一个原因是，仅仅因为系统的一部分发出了信息，并不意味着应用程序的另一部分准备好接收它，或者消息的结构是所期望的。</p>
<h2>集成测试的优点</h2>
<h3>适应需求变化</h3>
<p>在开发应用程序的敏捷方法中，需求变化是很常见的，即使一些特性已经根据最初的协议实现了。它使开发团队及其背后的业务能够根据当前的情况调整他们的方法和产品。由于这一点，有可能更快地满足最终用户的需求，并在快速增长的创业公司中改变发展方向。</p>
<p>然而，伴随着这些毋庸置疑的好处，风险也随之而来。这是不一致的风险，这是需求不断变化的直接结果。</p>
<p>因此，不仅需要对未来的应用程序代码进行更改，还需要纠正已经存在的特性。集成测试确保这种动态变化不仅是可能的，而且极大地降低了这样做的风险。</p>
<p>将集成测试作为一个测试套件准备好手动执行或者简单地作为自动测试<a href="/web/20221006011816/https://www.netguru.com/blog/automation-in-testing-importance" rel="noopener"/>来防止你提交不兼容的变更，这将为企业带来很多价值。</p>
<h3>微服务中的适当控制模块</h3>
<p>相当一段时间以来，在软件开发中使用<a href="/web/20221006011816/https://www.netguru.com/blog/monolithic-vs-microservices-architecture" rel="noopener">微服务</a>的热度一直在上升。投资者倾向于快速建造和运输他们的产品，这样他们就可以尽快盈利，而不是建造巨大的、多用途的庞然大物，为此他们需要外部的帮助。外部微服务可以为您的应用提供额外的功能，而无需自行开发。</p>
<p>然而，外部这个词也意味着你对它有些依赖。这样的外部提供者可能需要对他们的产品如何工作以及如何与您的应用程序通信进行一些更改。像这样的修改并不总是提前进行适当的沟通，适当的集成测试可能会捕捉到任何错误，并足够快地通知您，以便快速做出反应并适应它们。</p>
<h3>测试一部分代码如何与另一个开发人员编写的部分代码或在另一个上下文中的行为相联系</h3>
<p>如今，应用程序大多是由至少几个开发人员组成的团队编写的。应用程序越大，就有越多的人在上面工作。每个人都有自己编写代码的风格，自己的假设，并可能以自己的方式解释功能需求。</p>
<p>这就是为什么即使单独的组件可以很好地独立工作，但是当它们相互交互时就不是这样了。帮自己一个忙，利用这个机会确保早期的输入/输出数据没有问题。</p>
<h2>集成测试的缺点</h2>
<h3>需要适当设置环境、工具和数据</h3>
<p>在开发周期早期执行的集成测试通常需要为这些测试设置适当的环境、工具和数据。准备这样的环境和测试数据可能意味着使用mocking/stub，这可能会给人一种虚假的安全感，并且可能无法涵盖真实数据发挥作用时可能出现的问题。</p>
<p>想象一下这样一种情况，当您拥有一个特性的一部分，并且希望尽快为它准备好集成测试，即使它所依赖的应用程序的其他部分还没有准备好。您可以处理这种情况，例如，删除或模仿您的功能需要的数据和响应，以及应用程序其他部分的期望。</p>
<p>然而，正如我们前面看到的，需求可能在开发过程中发生变化，因此mock/stub可能会过时，而我们可能没有意识到这一点。这是我们在导航这个需求-特性-测试三角形时需要记住的一个额外的复杂性。</p>
<h2>E2E在测试什么？</h2>
<p>E2E或端到端测试，顾名思义，是一种“在类似生产的环境下从头到尾测试业务流程的测试”(国际软件测试资格委员会)。它有时被错误地解释为对应用程序中所有特性的详尽测试，但实际上它的目的是模拟真实用户的软件使用。</p>
<h2>E2E测试的优点</h2>
<h3>模拟用户可能使用的最关键功能的使用情况</h3>
<p>端到端测试尽可能地接近真实用户，而不实际让他们参与测试。这意味着E2E测试可能会捕捉到由于某种原因在早期阶段遗漏的问题，并将确保最常用和最关键的功能(从业务角度来看)总是可操作的，并且计划的用户体验得到维护。</p>
<h3>作为发行前的最后一步，E2E是伟大的</h3>
<p>此类测试的结果表明，在比集成测试更大的规模上，应用程序的各个级别是否如预期的那样工作。对于准备和执行E2E测试，通常需要相当多的时间，这就是为什么它们通常不应该在每个开发人员提交之后运行。</p>
<p>相反，它们通常被用作向生产环境发布新更改之前的最后一步，作为每天晚上运行的守夜人，以便开发团队可以看到整体应用程序状态，或者在可能将bug引入已经检查并工作的功能的重大更改之后。</p>
<h2>E2E测试的缺点</h2>
<h3>准备一个可靠的测试环境并执行需要很多时间</h3>
<p>各种单元测试、集成测试和简单的特性测试都是必不可少的，而且有它们自己的目的。它们的优点是可以在项目的早期引入，并且它们的执行相对较快，但是端到端测试却不是这样。</p>
<p>事实上，他们是在光谱的另一端。实现和执行E2E测试要求被测试的系统至少部分功能正常，这样我们就可以模拟最终用户的行为。用户应该能够访问系统(注册或登录)并执行一些操作，从而为他们实现一些价值。</p>
<p>强烈建议在类似于生产环境的环境中进行测试。它不应该造成任何额外的延迟，应该准备好所有的数据和功能，并且应该在没有意外停机的情况下充分运行。满足所有这些需求可能是耗时的，并且可能需要在非常特定的时间运行E2E测试，例如在工作时间之后。</p>
<h2>回到E2E测试与集成测试</h2>
<p>选哪个，哪个更好？这些问题的答案有点含糊不清，因为正如你所看到的，这两种测试方法明显不同，而且有着不同的目的。它们都只是你手中的工具，是否以及如何使用它们来提高你项目的质量是你的决定。它们要么是创建和维护的负担，要么是带来巨大的价值，这取决于它们的用途。</p></span></div>    
</body>
</html>