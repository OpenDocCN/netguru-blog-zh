<html>
<head>
<title>A Good Start In React Native</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>React Native的良好开端</h1>
<blockquote>原文：<a href="http://web.archive.org/web/20230307163032/https://www.netguru.com/blog/a-good-start-in-react-native#0001-01-01">http://web.archive.org/web/20230307163032/https://www.netguru.com/blog/a-good-start-in-react-native#0001-01-01</a></blockquote><div><span><div class="blog-post__lead h3"><p>如果你正在阅读这篇文章，你可能属于以下两类人之一:</p> 
<p>您是一名原生iOS或Android开发人员，正在考虑过渡到RN，或者</p> 
<p>你对rn已经很熟悉了，但是有个朋友，是原生iOS/Android开发人员，向你请教如何学习RN。</p> 
<p>在这两种情况下，你都是受欢迎的，这篇文章是给你的！</p></div><p>半年前，我和<i> JS </i>毫无共同之处，但我成功地完成了转变。现在，我可以分享一些提示，可以<strong>把你从我犯的几个错误中拯救出来。这篇文章并不深入细节，而是<strong>对</strong>到<i> RN </i>的一个简短而宽泛的介绍。我还提供了更多详细资源的链接。</strong></p>
<figure class="image&#10;    &#10;    image--framed&#10;    " data-component="image">
    <img class="image__content" srcset="http://web.archive.org/web/20220927120740im_/https://www.netguru.com/hs-fs/hubfs/1_hello_world_app.png?width=602&amp;name=1_hello_world_app.png 602w, http://web.archive.org/web/20220927120740im_/https://www.netguru.com/hs-fs/hubfs/1_hello_world_app.png?width=1204&amp;name=1_hello_world_app.png 1204w" src="../Images/ced516ee5f68dd51c1b3d8df3a1a9b3b.png" alt="&quot;Hello World&quot; app code" loading="lazy" data-original-src="http://web.archive.org/web/20220927120740im_/https://www.netguru.com/hs-fs/hubfs/1_hello_world_app.png?width=602&amp;name=1_hello_world_app.png"/>
  </figure>
<p>只是一个“Hello World”应用程序的例子</p>
<h2>动机</h2>
<p>首先，让我告诉你一些背景，为什么我决定改变我选择的关于移动应用程序开发的技术。我有本地开发(<i> iOS </i>和<i> Android </i>)以及使用<i> Xamarin </i>和<i> Unity </i>进行跨平台开发的经验。我喜欢所有这些技术，但我在寻找应用程序开发的新东西，这些东西可以让我结合我已经知道的东西。我相信跨平台开发肯定是正确的方向。我选择了解<i> React Native </i>。</p>
<p>第一次用的时候<strong>完全搞不清楚</strong>。它不像我以前用过的任何东西。不同的语言，不同的环境，一个范式的转变。<strong>花了我一些时间</strong>来适应新技术，但现在我确信我做出了正确的选择来过渡到注册护士。</p>
<p>如果你害怕<i>JavaScript</i>——不要害怕。过去我听到很多关于<i> JavaScript </i>的负面意见，但是现代标准(<i> ES6 </i> ) <strong>已经变得更好了</strong>。JS也是最受欢迎的语言，因此它的社区很大。在<i> npm </i>中也有许多高质量的包可以在<i> RN </i>应用中重用。</p>
<h2>什么是反应原生</h2>
<p>重要的事情先来。<a href="/web/20220927120740/https://www.netguru.com/glossary/react-native" rel="noopener">什么是React Native </a>？你可能已经知道这是一个基于<i> React </i>的框架，用于使用<i> JavaScript </i>开发<strong>跨平台应用</strong>。<i> RN </i>使用了与<i> React.js </i>(也叫<i> React Web </i>)不同的渲染机制。<i>组件</i>，即<strong>一个app的主要构件</strong>，被翻译成<strong>原生移动视图</strong> : <i> UIView </i>在<i> iOS </i>或<i> View </i>在<i> Android </i>上。</p>
<p>使用<i> JavaScript </i>、<i> HTML </i>和<i> CSS </i>的跨平台框架<strong>经常被指责</strong>没有原生的感觉和/或遭受许多性能问题。虽然这通常适用于在<i> WebView </i>中呈现视图的框架，但它<strong>不会将</strong>应用到<i> React Native </i>。</p>
<p>对于我们这些本地开发者来说，理解<i>中的<i>本地</i>代表什么是【反应本地</i>尤为重要。它代表了<strong>原生视图</strong>的渲染，这是一件好事。一个不好的地方是它仍然运行不那么本地的<i> JS </i>，而不是更快的本地代码。幸运的是，通常很难发现<strong>性能差异</strong>。<br/>如果要深究细节，我们<strong>对比了两个一模一样的app</strong>，一个用<i> Swift </i>写的，另一个用<i> RN </i>，<a href="http://web.archive.org/web/20220927120740/https://www.netguru.com/blog/swift-vs-react-native">写了一个关于它的故事</a>。</p>
<h2>如何开始</h2>
<h3>指导</h3>
<p>当我在<i>迈出<strong>第一步</strong>时，我读了很多指南，我可以<strong>特别推荐</strong>这两个:<span> <br/> </span></i></p>
<ul>
<li>脸书的官方<i> React Native </i>【入门】指南是一个非常棒的入门资源。它是最新的和有条理的。在本指南的最开始，你必须<strong>选择一个工具链</strong> : <i> React Native CLI </i>或<i> Expo </i>。但是，我劝你长期不要用<i> Expo </i>。<i> Expo </i>在最开始时<strong>比较容易，但后来<strong>就变得麻烦了</strong>，因为并不是所有的依赖项和本机模块都能很好地与之配合。作为一个本地开发者，你应该考虑一下重用你从本地世界已经知道的东西的可能性，而不要在T21世博会上限制你的选择。幸运的是，你总是可以从<i> Expo </i>中<i>弹出</i>你的代码到一个<strong>纯<i>RN</i>T29】项目中，这个项目将与标准<i> React Native CLI </i>一起工作。当使用<i> React Native CLI </i>时，您将<strong>了解更多</strong>，并且您的项目将不会受到<i> Expo的</i>限制。<span>T39</span></strong></strong></li>
<li><strong>另一个好的向导是<a href="http://web.archive.org/web/20220927120740/http://www.reactnativeexpress.com/">【React Native Express】</a></strong>。这个是互动的。它从JavaScript的基础开始，然后进入更高级的主题，如<i> Redux </i>和<i>动画API </i>。<span> <br/> </span></li>
</ul>
<p>如果你<strong>渴望更多的知识</strong>，我们也写了一个更广泛的工具和资源选择，被<strong>认为是我的同事们最有用的</strong>。在<a href="/web/20220927120740/https://www.netguru.com/blog/learn-react-native" rel="noopener">这篇Codestories博客文章</a>中可以找到。</p>
<h3>工具</h3>
<p>你可以使用<strong>任何你喜欢的文本编辑器或IDE </strong>编写<i> RN </i>应用程序。目前在<i>RN</i>dev中最流行的工具是<a href="http://web.archive.org/web/20220927120740/https://code.visualstudio.com/"> <i> Visual Studio Code </i> </a>。它是高度<strong>可定制的</strong>，并提供对大量<strong>扩展</strong>的访问。另一个值得尝试的流行IDE是<a href="http://web.archive.org/web/20220927120740/https://www.decoide.org/"> <i> Deco </i> </a>。只要你觉得<strong>更适合你就行</strong>。</p>
<p>当涉及到<strong>调试</strong>的时候，你可以只使用你的浏览器(<i> Chrome DevTools </i>，但是还有<strong>更强大的替代品</strong>可用。其中之一是<i> React原生调试器</i>，它作为一个独立的应用程序运行。除了一个必备的调试器控制台，它还为您提供了工具来轻松地<strong>分析应用程序的存储状态</strong>或查看<strong>组件的层次结构</strong>。</p>
<p>虽然它是一个很棒的调试器，通常可以节省很多时间，但不幸的是，它有一个小小的缺点:它大大降低了应用程序的运行速度。我给你的提示是，当你真的必须调试<strong>一些非平凡的</strong>时，使用它，否则使用浏览器中的默认调试器。</p>
<p>我们已经发布了一篇博文，更详细地介绍了调试T1的细节。在那里，你可以读到关于<strong>的另一个强大工具</strong>—<i>反应堆</i>。它的调试方法略有不同，而且<strong>比<i> React本机调试器</i>运行得更快。</strong></p>
<p>万一遇到最复杂的问题，你仍然可以使用你已经熟悉的T2 Xcode和T4 Android Studio进行分析和调试。当你需要<strong>剖析性能</strong>或<strong>解决奇怪的渲染问题</strong>时，它们是最好的。</p>
<figure class="image&#10;    &#10;    image--framed&#10;    " data-component="image">
    <img class="image__content" srcset="http://web.archive.org/web/20220927120740im_/https://www.netguru.com/hs-fs/hubfs/2_welcome.png?width=700&amp;name=2_welcome.png 700w, http://web.archive.org/web/20220927120740im_/https://www.netguru.com/hs-fs/hubfs/2_welcome.png?width=1400&amp;name=2_welcome.png 1400w" src="../Images/ae869bf8bbb0169bba0bae3787509a80.png" alt="&quot;Hello World&quot; app preview" loading="lazy" data-original-src="http://web.archive.org/web/20220927120740im_/https://www.netguru.com/hs-fs/hubfs/2_welcome.png?width=700&amp;name=2_welcome.png"/>
  </figure><br/>
<p>它真的<strong>呈现原生视图</strong>。上面的截图，以防你不相信我，显示了<strong> <a href="http://web.archive.org/web/20220927120740/https://developer.apple.com/library/archive/documentation/DeveloperTools/Conceptual/debugging_with_xcode/chapters/special_debugging_workflows.html" rel=" noopener">在<i> Xcode </i>中捕获的视图层次</a> </strong>。<i> Android Studio </i>提供<strong> <a href="http://web.archive.org/web/20220927120740/https://developer.android.com/studio/debug/layout-inspector" rel=" noopener">类似功能</a> </strong>。</p>
<h3>航行</h3>
<p>一个新的<i> RN </i>项目的第一步将是选择一个导航库。选择并不简单，因为有<strong>无官方</strong> <i> RN </i>导航和许多图书馆在竞争。这两个我认为是最常用的<strong/>:</p>
<ul>
<li>最受欢迎的库大概就是<a href="http://web.archive.org/web/20220927120740/https://reactnavigation.org/"><i>react——导航</i> </a>。它被认为是<strong>相对容易的</strong>，但是<strong>不是最有性能的</strong>，因为它没有显示本地导航组件。</li>
<li>另一个流行的是<i>react-native-navigation</i>(wix创造)。如果你有<strong>本地背景</strong>，你绝对应该试试这个库，因为它更加<strong>可定制</strong>，并且使用<strong>真正本地的</strong>导航组件。</li>
</ul>
<h2>调用本机代码和性能</h2>
<p>基本上，在<i> RN </i> apps代码可以拆分成<strong>两个世界</strong> : <em> JS </em>和原生。是的，显然你可以<strong>从<i> JS </i>调用原生代码</strong>。<i> React Native </i>，通过<i>桥</i>，将<i> JS </i>接口暴露给本机平台的API。这意味着该应用程序可以使用<strong>原生功能</strong>，如摄像头、蓝牙和<i> GPS </i>。</p>
<p>分别地，这些JS和本地世界中的代码运行<strong>相当快</strong>，但是有时它们之间需要<strong>通信</strong>，不幸的是这很慢。这座<i>桥</i>在两个世界之间充当<strong>翻译器</strong>。</p>
<p> </p>
<figure class="image&#10;    &#10;    image--framed&#10;    " data-component="image">
    <img class="image__content" srcset="http://web.archive.org/web/20220927120740im_/https://www.netguru.com/hs-fs/hubfs/3_js_native_code.jpg?width=500&amp;name=3_js_native_code.jpg 500w, http://web.archive.org/web/20220927120740im_/https://www.netguru.com/hs-fs/hubfs/3_js_native_code.jpg?width=1000&amp;name=3_js_native_code.jpg 1000w" src="../Images/6d1ebd12ffcdd9738ebf4797ba22bbd8.png" alt="Bridge between JS and native code" loading="lazy" data-original-src="http://web.archive.org/web/20220927120740im_/https://www.netguru.com/hs-fs/hubfs/3_js_native_code.jpg?width=500&amp;name=3_js_native_code.jpg"/>
  </figure>
<p>图示了JS和本机代码之间的<i>桥</i></p>
<p>这个概念的一个<strong>有趣的例子</strong>是标准列表结构(<i> FlatList </i>)是如何在<i> RN </i>中实现的，因为它与我最初的预期不同。<i> FlatList </i>不重用一个原生类，比如<i> Android </i>上的<i> RecyclerView </i>或者<i> iOS </i>上的<i> UITableView </i>，而是通过<i>桥</i>使用<i> JavaScript </i>对<strong>限制调用</strong>从零开始实现<strong>。当这种交流经常发生时，纯粹用JS编写的代码会比在桥后面的本机端运行逻辑的代码运行得更快。</strong></p>
<p>知道了这一点，你应该试着将通过桥的<strong>调用的数量限制到最小。官方文档(iOS，Android)也是解释<strong>原生模块</strong>细节的相当不错的资源。</strong></p>
<p>通常你不必深入到原生世界，因为你需要的这个独特的原生特性很可能已经被<i> npm </i>中的某个包<strong>实现了</strong>。正如我之前所说的，<i> JS </i>和<i> React Native </i>社区是<strong>庞大的</strong>和<strong>活跃的</strong>，所以很可能已经完成了。</p>
<h2>生命周期</h2>
<p>在我与<i> RN </i>的冒险之初，我很难理解<i>组件</i>的生命周期。这可能是因为我期望它<strong>看起来像本地生命周期</strong>。嗯，正如你所猜测的，这是<strong>非常不同的</strong>。事实上，在<i> RN </i>中，我们的视图有<strong>两个生命周期</strong>:iOS<i>上的<i> UIViewController </i>或安卓<i>上的<i> Activity </i>封装了<i>组件</i>的生命周期。</i></i></p>
<p> </p>
<figure class="image&#10;    &#10;    image--framed&#10;    " data-component="image">
    <img class="image__content" srcset="http://web.archive.org/web/20220927120740im_/https://www.netguru.com/hs-fs/hubfs/4_component_lifecycle.jpg?width=385&amp;name=4_component_lifecycle.jpg 385w, http://web.archive.org/web/20220927120740im_/https://www.netguru.com/hs-fs/hubfs/4_component_lifecycle.jpg?width=770&amp;name=4_component_lifecycle.jpg 770w" src="../Images/e9337597382f7aba976ff16aa806849b.png" alt="React Native Component lifecycle" loading="lazy" data-original-src="http://web.archive.org/web/20220927120740im_/https://www.netguru.com/hs-fs/hubfs/4_component_lifecycle.jpg?width=385&amp;name=4_component_lifecycle.jpg"/>
  </figure>
<p>展示本地生命周期中<i> RN组件</i>生命周期的各个阶段的图表。</p>
<p>我们继续来看<i> iOS </i>上<i> UIViewController </i>的<strong>实例</strong>和<i> Android </i>上<i>活动</i>。他们的生命周期跨越了他们的一生，就像一部电影从开始到结束一样。这与<i>组件</i>不同，其<i>更新</i>阶段生命周期看起来更像是<strong>电影</strong>中的单帧。</p>
<figure class="image&#10;    &#10;    image--framed&#10;    " data-component="image">
    <img class="image__content" srcset="http://web.archive.org/web/20220927120740im_/https://www.netguru.com/hs-fs/hubfs/5_react_component_lifecycle.png?width=700&amp;name=5_react_component_lifecycle.png 700w, http://web.archive.org/web/20220927120740im_/https://www.netguru.com/hs-fs/hubfs/5_react_component_lifecycle.png?width=1400&amp;name=5_react_component_lifecycle.png 1400w" src="../Images/ef93a700e1274ee6757d01f4d009d1b2.png" alt="Rhe detailed lifecycle of React.Component" loading="lazy" data-original-src="http://web.archive.org/web/20220927120740im_/https://www.netguru.com/hs-fs/hubfs/5_react_component_lifecycle.png?width=700&amp;name=5_react_component_lifecycle.png"/>
  </figure>
<p>图表显示了<i> React的详细生命周期。组件</i> ( <a href="http://web.archive.org/web/20220927120740/http://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/">来源</a>)</p>
<br/>
<p><i>组件</i>的<i>挂载</i>阶段在<strong>只完成一次</strong>按照其包装原生视图的寿命。在<i>componentidmount</i>调用之后，我们知道<i>组件</i>被绑定到一个本地视图，并且<strong>首先使用初始<i>属性</i>和<i>状态</i>进行渲染</strong>。这里有一些解释<a href="http://web.archive.org/web/20220927120740/https://reactjs.org/docs/components-and-props.html">道具</a>和<a href="http://web.archive.org/web/20220927120740/https://reactjs.org/docs/state-and-lifecycle.html">状态</a>的官方文档的链接。</p>
<p>下一阶段是<i>更新</i>。这是我与《T2》相比的第一阶段，一个单独的电影画面。<i>组件</i>每次接收到新的<i>道具</i>或其<i>状态</i>发生变化时，都会经历这个阶段<strong>，这些是<strong>可以重新渲染的唯一条件</strong>。在<strong>每次更新</strong>之后，呈现新的电影帧。</strong></p>
<p>在<i>组件将卸载</i>调用之后的<i>卸载</i>阶段，我们知道<i>组件</i>将很快从本机视图中<strong>分离</strong>。</p>
<p>值得注意的是，在学习时，你可能会找到介绍<i>组件</i>的<strong>遗留生命周期</strong>的资源。请记住，<i>组件将安装</i>，<i>组件将接收Props </i>和<i>组件将更新</i>被视为<strong>过时</strong>，因为<i>反应</i>v 16 . 3 . 0(2018年3月29日发布)。</p>
<h2>体系结构</h2>
<p>对我来说，开发一个完全原生的应用程序和一个<i> RN </i>应用程序之间最明显的区别是<strong>完全不同的架构</strong>。原生的<i> iOS </i>和<i> Android </i>项目通常使用一种流行的<strong>架构模式</strong> : <i>模型-视图-东西</i>，<i>毒蛇</i>或类似的模式来编写。<br/>在本地开发中最常用的架构模式通常不适合<i>的反应。组件</i> <strong>生命周期</strong>。这就是为什么<strong>状态容器</strong>被用作<i>冗余</i>在<i> RN </i>中如此流行的原因。值得注意的是，在《原生世界》中，<i> MVI </i>范式正受到越来越多的关注。事实上，<i> MVI </i>实现了<i>通量</i>概念，所以它<strong>与大多数RN应用架构</strong>非常相似。</p>
<br/><figure class="image&#10;    &#10;    image--framed&#10;    " data-component="image">
    <img class="image__content" srcset="http://web.archive.org/web/20220927120740im_/https://www.netguru.com/hs-fs/hubfs/6_rn_app_architecture.jpg?width=601&amp;name=6_rn_app_architecture.jpg 601w, http://web.archive.org/web/20220927120740im_/https://www.netguru.com/hs-fs/hubfs/6_rn_app_architecture.jpg?width=1202&amp;name=6_rn_app_architecture.jpg 1202w" src="../Images/fadd98be8d1aba6ebb20f1e91f5ac273.png" alt="The most popular architecture for React Native apps - Redux" loading="lazy" data-original-src="http://web.archive.org/web/20220927120740im_/https://www.netguru.com/hs-fs/hubfs/6_rn_app_architecture.jpg?width=601&amp;name=6_rn_app_architecture.jpg"/>
  </figure>
<p>图解说明最受欢迎的<i> RN </i>应用架构- Redux</p>
<br/>
<p>由于<i> RN </i>是基于<i> React.js </i>的，它也使用了<strong>的很多工具</strong>。最值得注意的部分是对<strong>状态管理库</strong>的使用，其中最流行的是<i> Redux </i>。没有它也可以编写<i> React </i>应用，但是如果你想成为<i> RN </i> dev <strong>你真的应该了解<i> Redux </i> </strong>。如果你想要一个<strong>详细的答案</strong> <a href="http://web.archive.org/web/20220927120740/https://blog.logrocket.com/why-use-redux-reasons-with-clear-examples-d21bffd5835">为什么<i> Redux </i>对一个<i> RN </i> app </a>有好处，就看这篇文章。</p>
<h2>摘要</h2>
<p>这个<i> RN </i>环境可能看起来与你从本地<i> iOS </i>或<i> Android </i>所了解的完全不同，但是我希望有了这个指南<strong>过渡</strong>会更容易<strong/>。你的职业和满足感可以从学习新东西中获益良多，尤其是如果你对当前的技术感到厌倦或者只是在寻找新的挑战。</p>
<p> </p>
<p>你觉得这篇文章有帮助吗？如果你喜欢或与朋友分享，我会<strong>非常高兴</strong>。</p>
<p>RN 与你最初的预期有什么不同？你想要我们详细描述某事吗？欢迎<strong>在评论区写下你的想法</strong>。</p>
<p><strong>祝你好运<i> React Native </i>冒险！我相信你会喜欢的！</strong></p>
<hr/>
<p><span>照片由<span> </span> </span> <a href="http://web.archive.org/web/20220927120740/https://unsplash.com/photos/N0g-deioHO4?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">吉安塞斯孔</a> <span> <span> </span>上<span> </span> </span> <a href="http://web.archive.org/web/20220927120740/https://unsplash.com/search/photos/phones?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">下</a></p></span></div>    
</body>
</html>