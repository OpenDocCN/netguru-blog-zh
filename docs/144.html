<html>
<head>
<title>Introducing Simple Smarthome System</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>简单智能家居系统简介</h1>
<blockquote>原文：<a href="http://web.archive.org/web/20230307163032/https://www.netguru.com/blog/introducing-simple-smarthome-system#0001-01-01">http://web.archive.org/web/20230307163032/https://www.netguru.com/blog/introducing-simple-smarthome-system#0001-01-01</a></blockquote><div><div id="hs_cos_wrapper_post_body"><span><div class="blog-post__lead h3"><p>一些开发人员喜欢在空闲时间做一些兼职项目。我是其中之一。我总是有一些代码和电子产品躺在周围，等待完成。这一次我想测试我在后端开发方面的技能，并在这个过程中学到一点东西。我有使用Kotlin的经验，所以对我来说显而易见的选择是尝试Ktor。</p></div><p>这种方法的好处是可以看到Kotlin在其他平台上的运行，因为Kotlin多平台可能是我工具箱中的一个有价值的工具。我选择Vue.js作为前端，因为我过去已经尝试过React。好的，我已经有了工具，但是我应该做什么呢？当我对智能家居仪表板环境中的现有解决方案不满意时，我找到了答案。</p>
<p>我不喜欢现有解决方案的哪些方面？</p>
<ul>
<li>它们很难配置</li>
<li>他们有太多的特点</li>
<li>它们是通过配置文件配置的，几乎没有文档</li>
</ul>
<p>所以我决定自己造一个。能有多难？</p>
<p>时隔半年多，我向您展示简单的智能家居系统:</p>
<p>它也适用于移动设备:</p><figure class="image&#10;    &#10;    image--framed&#10;    " data-image="" data-component="image">
    <img class="image__content" srcset="http://web.archive.org/web/20221007161754im_/https://www.netguru.com/hs-fs/hubfs/image1-33.png?width=700&amp;name=image1-33.png 700w, http://web.archive.org/web/20221007161754im_/https://www.netguru.com/hs-fs/hubfs/image1-33.png?width=1400&amp;name=image1-33.png 1400w" src="../Images/2f4bc56d6634baa41650ecce7c399e85.png" alt="Home Page" loading="lazy" data-image-content="" data-original-src="http://web.archive.org/web/20221007161754im_/https://www.netguru.com/hs-fs/hubfs/image1-33.png?width=700&amp;name=image1-33.png"/>
  </figure><p>我能做什么</p>
<p>它可以显示设备的最新状态。</p><figure class="image&#10;    &#10;    image--framed&#10;    " data-image="" data-component="image">
    <img class="image__content" srcset="http://web.archive.org/web/20221007161754im_/https://www.netguru.com/hs-fs/hubfs/image5-1.gif?width=480&amp;name=image5-1.gif 480w, http://web.archive.org/web/20221007161754im_/https://www.netguru.com/hs-fs/hubfs/image5-1.gif?width=960&amp;name=image5-1.gif 960w" src="../Images/3a569c4d2f279e5f93d4f84cdbcfe570.png" alt="Working Smarthome system" loading="lazy" data-image-content="" data-original-src="http://web.archive.org/web/20221007161754im_/https://www.netguru.com/hs-fs/hubfs/image5-1.gif?width=480&amp;name=image5-1.gif"/>
  </figure><p>将设备按逻辑分组，如房间或车库。</p>
<p>将事件发送回MQTT代理。</p><figure class="image&#10;    &#10;    image--framed&#10;    " data-image="" data-component="image">
    <img class="image__content" srcset="http://web.archive.org/web/20221007161754im_/https://www.netguru.com/hs-fs/hubfs/image2-26.png?width=700&amp;name=image2-26.png 700w, http://web.archive.org/web/20221007161754im_/https://www.netguru.com/hs-fs/hubfs/image2-26.png?width=1400&amp;name=image2-26.png 1400w" src="../Images/a1b2e1cc206878ecc3f6c83a36feeb22.png" alt="Full dashboard" loading="lazy" data-image-content="" data-original-src="http://web.archive.org/web/20221007161754im_/https://www.netguru.com/hs-fs/hubfs/image2-26.png?width=700&amp;name=image2-26.png"/>
  </figure><p>少了什么？</p>
<p>可以根据事件更改传感器状态的规则引擎。</p>
<p> </p><figure class="image&#10;    &#10;    image--framed&#10;    " data-image="" data-component="image">
    <img class="image__content" srcset="http://web.archive.org/web/20221007161754im_/https://www.netguru.com/hs-fs/hubfs/image3-18.png?width=700&amp;name=image3-18.png 700w, http://web.archive.org/web/20221007161754im_/https://www.netguru.com/hs-fs/hubfs/image3-18.png?width=1400&amp;name=image3-18.png 1400w" src="../Images/616b961ecf035189e92ea9da7095256e.png" alt="Mobile views" loading="lazy" data-image-content="" data-original-src="http://web.archive.org/web/20221007161754im_/https://www.netguru.com/hs-fs/hubfs/image3-18.png?width=700&amp;name=image3-18.png"/>
  </figure><p>在开发SSS时，我尝试遵循几个概念:</p>
<p>它基于MQTT。MQTT是物联网世界中的一个流行标准，已经有很多设备支持它。</p>
<ul>
<li>它应该很容易与我使用的两个工具集成:<a href="http://web.archive.org/web/20221007161754/https://www.zigbee2mqtt.io/"> zigbee2mqtt </a>(网关软件，允许你使用专有的zigbee设备而无需专有网关)和<a href="http://web.archive.org/web/20221007161754/https://github.com/arendst/Sonoff-Tasmota"> Tasmota </a>(基于ESP8622芯片的设备的开源固件)。</li>
<li>一切都应该可以通过用户界面进行配置。</li>
<li>请到<a href="http://web.archive.org/web/20221007161754/https://github.com/netguru/smarthome"> Github </a>查看安装细节和源代码。</li>
</ul>
<p>在开发过程中，我学到了一些东西。我想我更喜欢React而不是Vue。Vue的MVVM方法很好，但是可观察变量并不总是像预期的那样工作。即使在后端，Kotlin也是一项高超的技术，但是Ktor一点也不固执己见，所以我需要解决很多问题，比如使用哪个数据库，什么是数据库连接池:)</p>
<ul>
<li>我需要提到我在开发这个工具时从Netguru那里得到的巨大支持。我不仅有机会在这里推广它并在Netguru的Github上托管它，而且来自Vue团队的优秀人员也在这个框架上帮助了我。在Netguru成长是一种享受:)</li>
</ul>
<p><span>照片由</span> <a href="http://web.archive.org/web/20221007161754/https://unsplash.com/@nahakiole?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">罗宾·格劳泽</a> <span>在</span> <a href="http://web.archive.org/web/20221007161754/https://unsplash.com/search/photos/sensor?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText"> Unsplash </a></p>
<p>There are a couple of concepts I’ve tried to follow while developing SSS:</p>
<ol>
<li>It is based on MQTT. MQTT is a popular standard in the IoT world with a lot of devices already supporting it.</li>
<li>It should easily integrate with two tools I use: <a href="http://web.archive.org/web/20221007161754/https://www.zigbee2mqtt.io/">zigbee2mqtt</a> (gateway software that allows you to use proprietary Zigbee devices without proprietary gateways) and <a href="http://web.archive.org/web/20221007161754/https://github.com/arendst/Sonoff-Tasmota">Tasmota</a> (open source firmware for devices based on ESP8622 chips).</li>
<li>Everything should be configurable through a UI.</li>
</ol>
<p>Please go to <a href="http://web.archive.org/web/20221007161754/https://github.com/netguru/smarthome">Github</a> for installation details and source code.</p>
<p>I’ve learned a couple of things during development. I think I like React more than Vue. The MVVM approach of Vue is nice, but observable variables didn’t always work as expected. Kotlin is a superb technology even on the backend, but Ktor is not opinionated at all, so I needed to figure out a lot of stuff, like which database to use and what is the database connection pool :)</p>
<p>I need to mention the great support I received from Netguru in developing this tool. Not only do I have the opportunity to promote it here and host it on Netguru’s Github, but also great people from the Vue team helped me with this framework. Growing at Netguru is a pleasure :)</p>
<hr/>
<p><span>Photo by </span><a href="http://web.archive.org/web/20221007161754/https://unsplash.com/@nahakiole?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Robin Glauser</a><span> on </span><a href="http://web.archive.org/web/20221007161754/https://unsplash.com/search/photos/sensor?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a></p></span></div></div>    
</body>
</html>