# 不再需要支撑——从 Java 到 Ruby on Rails

> 原文：<http://web.archive.org/web/20230307163032/https://www.netguru.com/blog/ruby-on-rails-to-java>

 从 Java 到 Ruby 的过渡并不是我人生中最容易的事情，起初我对我所看到的有很多怀疑。

![](img/885d54b6cc937d99f58ad2ee7a82932c.png)

在我来到 [Netguru](/web/20221007083944/https://www.netguru.com/) 之前，我是一名自由职业的 C#和 Java/ [Android 开发人员](/web/20221007083944/https://www.netguru.com/services/android-mobile-development)——让我告诉你，我喜欢这两种语言(尽管 C#比 Java 更喜欢——爱我一些 lambdas 和 LINQ！).我甚至喜欢 Eclipse，这是我的首选 IDE，根据许多人的说法，这使我成为了被称为受虐狂的一群人。

但是我跑题了。

从 Java 到 Ruby 的过渡并不是我人生中最容易的事情，起初我对我所看到的有很多怀疑。就拿关于代码块如何编写的最基本的事情来说:大括号与缩进。

让我们来看看我很久以前写的一些代码:

现在让我们试着在 Ruby on Rails 中做一些**类似**的事情(现在，这不是 Rails 的方式，它更像是这里的直译，伙计们！):

*我一开始是怎么写的*

*我现在会怎么写*

当我开始的时候，我有很大的问题，不能到处贴牙套。甚至不要让我开始谈论那些该死的叫做分号的东西——那些东西特别难去掉，并且在早期引起了很大的挫败感。

但是在你摆脱了这种与括号和烦人的小家伙的不健康关系，并且克服了你需要记录你实际上如何缩进的事实之后，因为这很重要——ruby 是一个写起来很棒的东西。

尽管如此，还是有一些事情让我措手不及:

### **比如像整个退货业务。**得知 ruby 中的每一个方法都会默认返回值，你不需要特意告诉它一直返回某个东西，这感觉非常酷。相反，它只是获取最后一行中获得的值并返回它..

*   所有的成员变量都不能从类的外部访问。这也是我一开始抱怨的一件事，但是很快就开始尊重了。如果你想得到它，你要写一个方法。

*   是 nil 而不是 null。如果你不得不在你的 ruby 代码旁边写一些 javascript 代码，这会很快变得混乱。此外，整个“javascript 使用大括号、方括号和您最喜欢的小分号，处理它”的态度的事情正在进行。这就是为什么如此多的 [Rails 开发者](/web/20221007083944/https://www.netguru.com/services/ruby-on-rails-development)使用 coffeescript，这使得在它们之间切换变得更容易忍受。

*   **The each and the for。在 Java 中,“for”循环是一个基本的工具，你随处可见。它有自己的可变范围，简单的语法，你可以很容易地突破。我从未在 ruby 代码中见过一次“for”循环(除了基本的 showcase 示例)。令人惊讶的是，不同之处在于范围。**

*   *每个*

*each*

*为*

另一个趣闻:**Rails 社区倾向于厌恶 XML** -这让我非常高兴。我每天都与 JSON 和 YAML 打交道，上一次我不得不查看 XML 文件是在一年多以前。现在，对于地球上的每一个 RoR 项目来说，这肯定不是真的。有时你不得不处理这种地狱般的格式，但如果我们在这里谈论个人经历，我再高兴不过了。例如，将这与你在开发 Android 应用程序时不得不面对的[进行比较。有时我想回到过去，这种记忆扼杀了那个思考过程，就像它从未发生过一样。](/web/20221007083944/https://www.netguru.com/blog/best-practices-in-android-app-development)

我知道进去后觉得很棒的东西:

*   一切都是物体。 2 是对象，“javascript 是地狱”是对象，3.14 是对象，nil 是对象。你不必处理原始的 int 和 integer。你实际上可以在一个 nil 对象上调用方法，比如检查它是否真的是 nil 或者只是撒谎:nil.nil？# = >真的

### **Hashes**——或者其他什么语言可以称之为字典或者关联数组。在 Java 中，这是一个数组列表和哈希表的组合，需要大量的变通方法才能使它像 ruby 使用哈希表一样工作。哈希允许您使用任何对象类型作为索引。它们在表示数据结构方面非常出色，可以嵌套、序列化、反序列化，并且通常会被滥用(实际上并不建议)。想拿钥匙吗？没问题，只要调用 hash.keys 就搞定了。公正价值观也是如此。Hash 是我最喜欢 Ruby 的地方之一，它肯定会破坏你的其他语言。

*   收藏令人惊叹。更确切地说，用它们可以做的事情是惊人的。你可以调用、选择、拒绝、收集、映射、排序…任何你真正需要的对象集合，以获得你想要的精确集合，并根据你的喜好进行转换。

Ruby 是解释的，不是编译的。这意味着无需等待编译，能够随时随地或在控制台上运行代码。

*   更糟糕的事情:

*   Ruby 是解释的，不是编译的。这也让它明显比 Java 慢。与普遍的看法相反，Java 非常快。以 Twitter 为例——在过去的某个时候，他们不得不从他们选择的框架 Ruby on Rails 辞职，转向 Java，这使得他们的性能快了许多倍。

### **代码库大小。Java 被更好地记录，有更广泛的传播，和巨大的代码库。开发人员的数量甚至不值得比较，因为 Ruby 在这方面是微不足道的。**

*   据我所知，Ruby 在 Windows 上的开发很糟糕。事实上，我甚至在某个时候尝试过设置它，但后来放弃了，转而继续使用 linux。将它与 rails 和 rvm 结合起来，你会发现一场圣战正在进行，结束时可能会非常混乱。

*   你会想念你的重构工具。遗憾的是，动态类型化的乐趣使得我们不可能写出接近 Java 的重构工具。

*   从 Java 到 Ruby 经历了一段漫长的旅程。我绝对推荐花一个周末的时间和 Ruby 玩一玩，即使只是为了看看元编程是如何工作的，以及使用更自然的语言来编码是多么有趣。在开始的几个小时里，尝试使用“除非”语句会让你绞尽脑汁。哦，还要尽量让你的代码块尽可能的短，因为你可以！

*   来自我们博客的其他 [Ruby on Rails 相关文章。](http://web.archive.org/web/20221007083944/https://www.netguru.com/blog)

Other [Ruby on Rails related posts from our blog](http://web.archive.org/web/20221007083944/https://www.netguru.com/blog).