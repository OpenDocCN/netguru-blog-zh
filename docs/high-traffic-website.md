# 如何准备管理网站和应用程序的高流量

> 原文：<http://web.archive.org/web/20230307163032/https://www.netguru.com/blog/high-traffic-website>

 如果你是一个企业主，那么在某些时候你需要担心管理你的网站或应用程序的高流量。

准备和处理可能很棘手，但是有了正确的提示和工具，你可以确保你的网站或应用程序为任何事情做好准备。

即使是一个非常有耐心的用户也不愿意等待网站加载。缓慢的应用程序通常会让用户感到厌烦，但对于一个企业来说，这可能是灾难性的，会导致公司市值的减少。

处理高流量网站或应用程序会带来复杂的技术挑战。您可能会面临各种各样的问题，因此为高流量准备软件需要许多积极的步骤，我们将在下面讨论。

## app 如何处理高流量？

当人们想到 web 应用程序时，他们通常只考虑他们看到的前端部分。但除此之外，还有一个后端层。用户可能看不到，但是大部分来自前端的动作都是发送到后端的。

虽然前端可以在客户端渲染，但后端通常是集中式的，它处理流量负载的能力有限。这意味着，当我们有一千个用户时，这可能是好的，但如果在某个点上我们达到更大的流量，例如，成千上万的用户，这个单点可能会开始拥挤，除非它被正确地设计。

### 一个网站流量太大会怎么样？

你知道黑色星期五的在线销售额从 2013 年的 19.3 亿美元增长到 2020 年的 90 亿美元吗(Adobe Analytics)？根据美国全国零售联合会的数据，2019 年，美国参加感恩节周末的消费者人数超过 1.89 亿。

越来越多的客户、网站访问者或搜索引擎机器人(！)是网站崩溃的主要原因之一。此外，不满意的客户会在社交媒体上发布沮丧的消息。

你的应用崩溃可能不是唯一的灾难。即使在繁重的工作负荷下放慢速度，也会导致高流量网站的收入大幅下降。研究表明，如今任何超过 4-5 秒的页面加载速度都是不可接受的(来源:MDM)，因此保持一致的网站性能至关重要。

会出什么问题呢？这些问题通常围绕三个方面:

*   糟糕的代码设计——后端处理数据的步骤太多、太复杂
*   硬件不足–资源利用率达到 120%的容量
*   数据库-被太多的数据塞满，或者处理太多的呼叫

## 设计良好的 web 流量处理机制的好处

这就是为什么从一开始就关注产品的性能并优化高流量网站和应用程序会带来许多好处，包括财务和品牌形象。

### 更好的 UX

影响用户满意度的最重要因素之一是性能。Neil Patel 的研究表明，等待主视图加载的每一秒都会降低 16%的用户满意度。

![article_screensho1](img/5f6891e33f13749322b7e7761290b0ce.png)Source of infographic: neilpatel.com

缓慢加载或暂时不可用导致的潜在问题极大地降低了用户仍然有积极感觉的机会(79%的用户不会执行期望的操作)。

用户希望在不到两秒的时间内加载页面。通过关注高流量下的性能，您可以确保用户体验保持在合理的水平，从而您的产品将产生利润。

### 转化率更高，跳出率更低

转换率是访问应用程序后执行特定操作的用户数量，例如，购物或成为注册用户。“跳出率”表示访问一个页面后离开产品的用户数量。亚马逊发现，每 100 毫秒的额外加载时间会让他们损失 1%的销售额。

Tammy Everts 在她的书《时间就是金钱》中引用了 2012 年的一个例子，沃尔玛注意到当平均页面加载时间从 1 秒增加到 4 秒时，他们的转化率急剧下降。

通过在高流量下保持产品的速度，你可以降低跳出率风险，提高转化率。有可能刚离开你竞争对手网站的用户会找到你。

### 更好的产品知名度和更低的定位成本

性能是谷歌定位算法考虑的一个方面(搜索引擎中的网络存在)。对于移动应用程序，糟糕的性能会影响评级，从而导致下载量减少。

你的网站的良好定位意味着有机搜索的高网站流量和实现你的商业目标的更大机会，也意味着用户记住你的品牌的可能性。

### 避免停机成本

[Gartner 的研究](http://web.archive.org/web/20221206202627/https://blogs.gartner.com/andrew-lerner/2014/07/16/the-cost-of-downtime/)显示，停机时间的平均成本为每分钟 5，600 美元。当然，这只是一个平均值。受 Carbonite 委托，IDC 进行的研究表明，小型企业每分钟的停机成本从每分钟 137 美元到 437 美元不等(取决于公司规模)。

对于大公司来说，金额可能高达每分钟 9000 美元。更重要的是，任何不可预见的停机都会使产品暴露在潜在的失去用户信任的风险中。如果关键时刻宕机发生在用户身上，信任的丧失可能是不可逆的。

如您所见，为高流量做好准备有很多好处。但是，如上所述，这不是一件容易的事情。

许多解决方案仅仅基于添加额外的资源(CPU、内存、实例)，这不仅非常昂贵，而且在许多情况下，不能防止崩溃。这就是为什么高流量网站或应用程序优化应该包括许多积极的步骤。

## 我如何为高流量优化我的网站？

优化不应该只是高流量网站维护的一部分。事实上，它应该在发展发生之前就开始。针对巨大的流量负载优化 web 应用程序的主要目标是降低与性能问题及其对业务的影响相关的风险。这就是为什么风险分析是整个过程的第一步。

在进行风险分析之前，您需要收集性能需求，因为没有适用于每个应用程序的金科玉律。在这两个步骤之后，针对高流量的优化包括以下活动:

### 建筑设计评论

想想什么架构方案最适合([微服务](/web/20221206202627/https://www.netguru.com/blog/monolithic-vs-microservices-architecture) vs monolith 应用，同步 vs 异步调用，什么类型的 API，多少流量收入/产出点)。考虑添加额外的架构元素，如 CDN 或缓存机制。

记住适当的基础设施配置:足够的资源和[环境可伸缩性](http://web.archive.org/web/20221206202627/https://www.netguru.com/blog/how-to-build-scalable-cloud-architecture)。规划数据库配置:使用一个数据库代理、多个副本，并选择正确的数据库引擎。

### 代码优化

[代码优化](http://web.archive.org/web/20221206202627/https://www.netguru.com/blog/django-performance-optimization)是通过提高应用程序的速度和数据结构的大小以及消除不使用的变量来增强应用程序性能的过程。记得删除不必要的调用和内存使用。请记住缓存和优化数据库查询。尝试使用数据库索引，并检查外部库是否对一般应用程序性能没有负面影响。

### 性能试验

尽早并经常测试，使用不同的测试类型，[选择正确的工具](http://web.archive.org/web/20221206202627/https://www.netguru.com/blog/performance-testing-tools)，识别瓶颈并验证实施的修复是否解决了问题。得益于性能测试，您不仅可以在上线之前发现性能问题，还可以检查软件的可伸缩性和可靠性。

性能测试结果应该给出应用程序的性能工程能力的答案，有了这些知识，您就可以计划接下来的步骤。

### 实时监控流量并发出警报

随时监控流量和系统性能，以收集尽可能多的信息——这将有助于您应对任何问题。添加业务指标来监控用户行为–因此，您可以在性能问题出现之前发现是否需要添加额外的资源。

你可以使用流行的分析工具，如谷歌分析。记住警报——如果出现任何问题，快速反应极其重要。

## 限制风险，实现卓越绩效

如你所见，许多高流量网站面临着同样的问题。为高流量准备应用程序是一个过程，在这个过程中，我们以一种积极的跨学科方式工作，以实现最佳结果。[性能审计](http://web.archive.org/web/20221206202627/https://www.netguru.com/services/quality-assurance)可用作现有软件的独立服务，例如，当我们想要为更高的流量准备网站时。

这不是一项容易的任务，但肯定是值得的-您可以减轻与性能问题相关的风险，获得许多好处，并优化成本。